# Configuration OpenOCD simplifiée pour ADAM

adapter driver ftdi
ftdi device_desc "Digilent USB Device"  
ftdi vid_pid 0x0403 0x6014
ftdi channel 0
ftdi layout_init 0x00e8 0x60eb
reset_config none

adapter speed 1000

# Configuration minimale - laisser OpenOCD détecter automatiquement
jtag newtap riscv cpu -irlen 5 -expected-id 0x249511C3

target create riscv.cpu riscv -chain-position riscv.cpu

# Configuration RISC-V basique
riscv set_reset_timeout_sec 120
riscv set_command_timeout_sec 120

bindto 0.0.0.0
init

echo "OpenOCD ready for connections"
